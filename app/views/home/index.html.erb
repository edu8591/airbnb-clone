<div
  class="container mx-auto"
  data-controller="geolocation"
  data-user-coords="<%= current_user.coords.to_json if user_signed_in? && current_user.profile.latitude.present? && current_user.profile.longitude.present?%>"
>
  <div role="list" class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3 sm:gap-x-6 md:grid-cols-4 2xl:grid-cols-5 xl:gap-x-8 py-16">
    <% @properties.each do |property| %>
      <div
        class= "relative"
        data-property-coords='{"latitude": <%= property.latitude %>, "longitude": <%= property.longitude %>}'
        data-geolocation-target ='property'
      >
        <div class="group block w-full aspect-w-10 aspect-h-7 rounded-lg bg-gray-100 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500 overflow-hidden">
          <%# <img src="https://images.unsplash.com/photo-1503785640985-f62e3aeee448?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=874&q=80" alt="trees" class="rounded-xl"> %>
          <%= image_tag property.default_image, class:"object-cover pointer-events-none group-hover:opacity-75" %>
        </div>
        <div class="content">
          <div class="flex justify-between mt-2 text-sm font-medium truncate text-gray-900 pointer-events-none">
            <span><%= property.city %>, <%= property.country %></span> <span>star score</span>
          </div>
          <p data-distance-away class="block text-sm font-medium text-gray-500 pointer-events-none mt-1"></p>
          <p class="block text-sm font-medium text-gray-500 pointer-events-none mt-1">jun 19 -jun 24</p>
          <p class="block text-sm font-medium text-gray-900 pointer-events-none mt-2"><%= humanized_money_with_symbol property.price %> per night</p>
        </div>
      </div>
    <% end %>
  </div>
</div>
