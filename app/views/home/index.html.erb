<div
  class="container mx-auto"
  data-controller="geolocation"
  data-user-coords="<%= current_user.coords.to_json if user_signed_in? && current_user.profile.latitude.present? && current_user.profile.longitude.present?%>"
>
  <div role="list" class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3 sm:gap-x-6 md:grid-cols-4 2xl:grid-cols-5 xl:gap-x-8 py-16">
    <% @properties.each do |property| %>
      <div
        class= "relative"
        data-property-coords='{"latitude": <%= property.latitude %>, "longitude": <%= property.longitude %>}'
        data-geolocation-target ='property'
      >
        <div class="group block w-full aspect-w-10 aspect-h-7 rounded-lg bg-gray-100 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500 overflow-hidden">
          <%= image_tag property.default_image, class:"object-cover pointer-events-none group-hover:opacity-75" %>
        </div>
        <div class="content">
          <div class="flex justify-between mt-2 text-sm font-medium truncate text-gray-900 pointer-events-none">
            <span><%= property.city %>, <%= property.country %></span> <span class="flex items-center"><svg class="mr-2 " viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 12px; width: 12px; fill: currentcolor;"><path d="M15.094 1.579l-4.124 8.885-9.86 1.27a1 1 0 0 0-.542 1.736l7.293 6.565-1.965 9.852a1 1 0 0 0 1.483 1.061L16 25.951l8.625 4.997a1 1 0 0 0 1.482-1.06l-1.965-9.853 7.293-6.565a1 1 0 0 0-.541-1.735l-9.86-1.271-4.127-8.885a1 1 0 0 0-1.814 0z" fill-rule="evenodd"></path></svg><%= property.average_rating %></span>
          </div>
          <p data-distance-away class="block text-sm font-medium text-gray-500 pointer-events-none mt-1"></p>
          <p class="block text-sm font-medium text-gray-500 pointer-events-none mt-1">jun 19 -jun 24</p>
          <p class="block text-sm font-medium text-gray-900 pointer-events-none mt-2"><%= humanized_money_with_symbol property.price %> per night</p>
        </div>
      </div>
    <% end %>
  </div>
</div>
